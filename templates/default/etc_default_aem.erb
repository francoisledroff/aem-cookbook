# This file was generated by Chef for <%= node['fqdn'] %>.
# Do NOT modify this file by hand!

# this file is used to set a env variable into the service
# this file is sourced in the init.d/aem service script
# cf. http://unix.stackexchange.com/questions/44370/how-to-make-unix-service-see-environment-variables

# TODO look into that, coming from Sambi's settings
##################################################
CQ_JVM_OPTS="$CQ_JVM_OPTS  -Dcrx.memoryMaxUsage=98 -Dcrx.memoryMinStdev=1"

# jmxremote settings coming from Sambi's settings
##################################################
CQ_JVM_OPTS="$CQ_JVM_OPTS  -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.ssl=false  -Dcom.sun.management.jmxremote.port=8800  -Dcom.sun.management.jmxremote.authenticate=false"

# ldap settings
##################################################
<% if node['aem']['ldap']['enabled'] -%>
CQ_JVM_OPTS="$CQ_JVM_OPTS -Djava.security.auth.login.config=<%= node['aem']['ldap_conf'] %>"
<% end -%>
